<div class="max-w-[1000px] mx-auto border-[1px] border-[#ccc]">
  <nz-page-header [nzGhost]="false">
    <nz-page-header-extra>
      <nz-space>
        <button
          (click)="showModal($event, null, 'ADD')"
          *nzSpaceItem
          nz-button
          nzType="primary"
        >
          Thêm mới
        </button>
      </nz-space>
    </nz-page-header-extra>
  </nz-page-header>
  <nz-table #basicTable [nzData]="products.reverse()" [nzLoading]="isLoading">
    <thead>
      <tr>
        <th>ID</th>
        <th>Tên</th>
        <th>Ảnh</th>
        <th>Giá</th>
        <th>Thời gian tạo</th>

        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      @for (data of basicTable.data; track data) {
        <tr>
          <td>{{ data.id }}</td>
          <td>
            <div
              class="bg-gray-200 p-[10px] rounded-[10px] hover:bg-gray-300 transition-all duration-150"
            >
              {{ data.name }}
              <div
                className="mt-[10px] flex items-center justify-center gap-[8px] text-[12px] italic cursor-pointer"
              >
                <svg
                  class="w-[12px] cursor-pointer"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 640 640"
                >
                  <path
                    d="M173.3 66.5C181.4 62.4 191.2 63.3 198.4 68.8L518.4 308.7C526.7 314.9 530 325.7 526.8 335.5C523.6 345.3 514.4 351.9 504 351.9L351.7 351.9L440.6 529.6C448.5 545.4 442.1 564.6 426.3 572.5C410.5 580.4 391.3 574 383.4 558.2L294.5 380.5L203.2 502.3C197 510.6 186.2 513.9 176.4 510.7C166.6 507.5 160 498.3 160 488L160 88C160 78.9 165.1 70.6 173.3 66.5z"
                  />
                </svg>
                <span
                  class="text-[12px] italic cursor-pointer"
                  (click)="handleNavigate(data?.id)"
                  >Click để xem chi tiết</span
                >
              </div>
            </div>
          </td>
          <td>
            <img
              src="{{ data.image }}"
              class="w-[300px] h-[200px] object-cover"
            />
          </td>
          <td>{{ data.price | currencyPipe }}</td>
          <td>{{ data.createdAt | dateFormatPipe }}</td>
          <td>
            <div class="flex items-center gap-[10px]">
              <span
                nz-icon
                (click)="showModal($event, data, 'EDIT')"
                nzType="edit"
                class="cursor-pointer text-orange-500 hover:text-orange-700 hover:bg-gray-300 transition-all duration-100 p-[6px] text-[20px]"
              ></span>
              <span
                nz-icon
                (click)="handleDelete($event, data.id!)"
                nzType="delete"
                nzTheme="outline"
                class="cursor-pointer text-red-500 hover:text-red-700 hover:bg-gray-300 transition-all duration-100 p-[6px] text-[20px]"
              ></span>
            </div>
          </td>
        </tr>
      }
    </tbody>
  </nz-table>
</div>
<nz-modal
  [(nzVisible)]="isShowModal"
  nzTitle="{{
    productData.action === 'EDIT' ? 'Cập nhật sản phẩm' : 'Thêm mới sản phẩm'
  }}"
  (nzOnCancel)="handleCloseModal()"
  (nzOnOk)="handleSubmit()"
>
  <ng-container *nzModalContent>
    <div>
      <label for="name" class="flex items-center gap-[4px]">
        <span class="text-[20px] text-red-500">*</span>
        Tên sản phẩm
      </label>
      <input
        name="name"
        class="mt-[4px]"
        nz-input
        placeholder="Basic usage"
        [(ngModel)]="productData.name"
      />
    </div>
    <div class="mt-[20px]">
      <label for="price" class="flex items-center gap-[4px]">
        <span class="text-[20px] text-red-500">*</span>
        Giá
      </label>
      <input
        type="number"
        name="price"
        class="mt-[4px]"
        nz-input
        placeholder="Basic usage"
        [(ngModel)]="productData.price"
      />
    </div>
    <div class="mt-[20px]">
      <label for="price" class="flex items-center gap-[4px]"> Mô tả </label>
      <textarea
        rows="4"
        nz-input
        [(ngModel)]="productData.description"
      ></textarea>
    </div>
  </ng-container>
</nz-modal>
